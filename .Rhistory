base_directory <- "C:/Users/Leijten/Food and Agriculture Organization/Scognamillo, Antonio (ESA) - Floris Leijten/Software"
package_name <- "FLUTES"
file_path_pkg <- paste0(base_directory, "/", package_name)
use_r("extract_by_mask") # open new script - make sure you're in the directory where your source package lives
load_all(path = file_path_pkg) # test drive script - building, installing, and attaching the package
country = "Burkina Faso"
extract_country_names()
world_sf <- rnaturalearth::ne_countries(scale = "medium", returnclass = "sf")
world_sf_reproj <- sf::st_transform(world_sf,
crs = terra::crs(terra::rast(paths_lu_filenames[1])))
dir_lu_filenames <- "C:/Users/Leijten/OneDrive - Food and Agriculture Organization/CLUMondo_package/validation/ESA-CCI_land_cover_maps"
setwd(dir_lu_filenames)
file_names <- list.files()[grepl("LCCS", list.files())]
paths_lu_filenames <- paste0(getwd(), "/", file_names)
world_sf_reproj <- sf::st_transform(world_sf,
crs = terra::crs(terra::rast(paths_lu_filenames[1])))
country_sf <- world_sf_reproj %>%
dplyr::filter(name == country)
devtools::document()
devtools::document()
devtools::document()
base_directory <- "C:/Users/Leijten/Food and Agriculture Organization/Scognamillo, Antonio (ESA) - Floris Leijten/Software"
package_name <- "FLUTES"
file_path_pkg <- paste0(base_directory, "/", package_name)
devtools::document()
document(pkg = file_path_pkg)
country
world_sf <- rnaturalearth::ne_countries(scale = "medium", returnclass = "sf")
world_sf_reproj <- sf::st_transform(world_sf,
crs = terra::crs(terra::rast(paths_lu_filenames[1])))
country_sf <- world_sf_reproj %>%
dplyr::filter(name == country)
load_all(path = file_path_pkg) # test drive script - building, installing, and attaching the package
country_sf <- world_sf_reproj %>%
dplyr::filter(name == country)
path_lu_filename = paths_lu_filenames[1]
paths_lu_filenames
path_lu_filename
raw_lu_map <- terra::rast(path_lu_filename)
raw_lu_map_cropped <- crop(raw_lu_map, country_sf)
raw_lu_map_cropped <- terra::crop(raw_lu_map, country_sf)
plot(raw_lu_map_cropped)
raw_lu_map_cropped
path_lu_filename
class(path_lu_filename)
class(rast(path_lu_filename))
class(terra::rast(path_lu_filename))
raw_lu_map
names(raw_lu_map)
class(raw_lu_map)
path_lu_filename
lu_filename <- sub('.*/', '', path_lu_filename)
lu_filename
sub(".*. ", "", lu_filename)
sub(".*.", "", lu_filename)
sub(".*nc", "", lu_filename)
sub(".*1.1", "", lu_filename)
sub(".*.", "", lu_filename)
sub('.*\\.', '', lu_filename)
rm(list=ls())
q()
